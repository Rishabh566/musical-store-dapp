{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Container,Row,Col,Card,Button,Spinner,Alert}from'react-bootstrap';import Sounds from\"../Utils/Speakers.json\";import{React,useState,useEffect}from'react';import{ethers}from'ethers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Speakers(_ref){var state=_ref.state;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAlert=_useState4[0],setShowAlert=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var contract=state.contract;var buy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var index,amount,transaction;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:handleClose();setIsLoading(true);index=id-1;amount={value:ethers.utils.parseEther(Sounds[index].price)};console.log(Sounds[index].name);console.log(index);_context.next=8;return contract.placeOrder(Sounds[index].name,Sounds[index].category,Sounds[index].imageURL,Sounds[index].description,Sounds[index].price,amount);case 8:transaction=_context.sent;_context.next=11;return transaction.wait();case 11:console.log(\"Completed\");setShowAlert(true);setIsLoading(false);case 14:case\"end\":return _context.stop();}},_callee);}));return function buy(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{style:{marginTop:\"50px\"},children:[/*#__PURE__*/_jsx(Alert,{variant:\"success\",show:showAlert,onClose:function onClose(){return setShowAlert(false);},dismissible:true,children:\"Transaction is successful\"}),Sounds.map(function(product){return/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(Col,{style:{\"margin\":\"0\",top:\"50%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Card,{style:{width:'35rem'},children:/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",style:{objectFit:\"cover\"},src:product.imageURL})})}),/*#__PURE__*/_jsx(Col,{style:{\"margin\":\"0\",top:\"50%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:\"15px\"},children:product.name}),product.description,/*#__PURE__*/_jsx(\"br\",{}),isLoading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"warning\",style:{marginTop:\"20px\"}}):/*#__PURE__*/_jsxs(Button,{variant:\"light\",size:\"lg\",style:{background:\"#d87d4a\",marginTop:\"20px\",color:\"#fff\"},onClick:function onClick(){return buy(product.id);},children:[\" \",product.price,\" ETH\"]})]})})]},product.id);})]})});}export default Speakers;","map":{"version":3,"names":["Container","Row","Col","Card","Button","Spinner","Alert","Sounds","React","useState","useEffect","ethers","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Speakers","_ref","state","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","showAlert","setShowAlert","_useState5","_useState6","show","setShow","handleClose","handleShow","contract","buy","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","index","amount","transaction","wrap","_callee$","_context","prev","next","value","utils","parseEther","price","console","log","name","placeOrder","category","imageURL","description","sent","wait","stop","_x","apply","arguments","children","style","marginTop","variant","onClose","dismissible","map","product","top","display","justifyContent","alignItems","width","Img","objectFit","src","marginBottom","animation","size","background","color","onClick"],"sources":["C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/src/components/Speakers.js"],"sourcesContent":["import { Container, Row, Col, Card, Button, Spinner,Alert } from 'react-bootstrap';\nimport Sounds from \"../Utils/Speakers.json\";\nimport { React, useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\n\nfunction Speakers({state}) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [showAlert, setShowAlert] = useState(false);\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    const { contract } = state; \n\n    const buy = async (id) => {\n        handleClose()\n        setIsLoading(true);\n         const index = id - 1; \n        const amount = {value:ethers.utils.parseEther(Sounds[index].price)}\n        console.log(Sounds[index].name);\n        console.log(index); \n       \n        const transaction = await contract.placeOrder(\n            Sounds[index].name,\n            Sounds[index].category,\n            Sounds[index].imageURL,\n            Sounds[index].description,\n            Sounds[index].price,\n            amount\n            );\n            await transaction.wait();\n            console.log(\"Completed\")\n            setShowAlert(true);\n            setIsLoading(false);\n\n    }\n\n    return ( \n        <>\n        <Container style={{marginTop:\"50px\"}}>\n        <Alert variant=\"success\" show={showAlert} onClose={() => setShowAlert(false)} dismissible>Transaction is successful</Alert>\n            {Sounds.map((product) => {\n                return (\n                    <Row key={product.id} style={{marginTop:\"20px\"}}>\n                    <Col style={{\n                        \"margin\":\"0\",\n                        top:\"50%\",\n                        display:\"flex\",\n                        justifyContent:\"center\",\n                        alignItems:\"center\"\n                    }}>\n                    <Card style={{ width: '35rem' }}>\n                     <Card.Img \n                     variant=\"top\" \n                     style={{objectFit:\"cover\"}}\n                     src={product.imageURL} />\n                 </Card>\n                    </Col>\n                    <Col style={{\n                        \"margin\":\"0\",\n                        top:\"50%\",\n                        display:\"flex\",\n                        justifyContent:\"center\",\n                        alignItems:\"center\"\n                    }}>\n                    \n                    <span> \n                    <h2 style={{marginBottom:\"15px\"}}>{product.name}</h2>\n                    {product.description}\n                    <br />\n                    {isLoading ? <Spinner animation=\"border\" variant=\"warning\" style={{marginTop:\"20px\"}}/> :\n                    <Button variant='light' size=\"lg\" style={{background:\"#d87d4a\", marginTop:\"20px\", color:\"#fff\"}} onClick={() => buy(product.id)}> {product.price} ETH</Button>\n                }\n                    </span>\n                    </Col>\n                </Row>\n                )\n            })}\n           \n        </Container>\n        </>\n     );\n}\n\nexport default Speakers;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}