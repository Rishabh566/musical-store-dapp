{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import Header from\"./components/Header\";import Banner from\"./components/Banner\";import{useState,useEffect}from'react';import abi from\"./abi/music.json\";import{ethers,utils}from\"ethers\";import Headphones from\"./components/Headphones\";import Earpods from\"./components/Earpods\";import Speakers from\"./components/Speakers\";import Orders from'./components/Orders';import About from\"./components/About\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({provider:null,signer:null,contract:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState({accounts:null,chainId:null,balance:null,contAddress:null}),_useState4=_slicedToArray(_useState3,2),accountDetails=_useState4[0],setAccountDetails=_useState4[1];useEffect(function(){var connectWallet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractAddress,contractAbi,_window,ethereum,accounts,provider,signer,contract,_yield$provider$getNe,chainId,balance;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:contractAddress=\"0x8765aA7C14AEc6A8b4eaD68e1ab1EC6c65B9166F\";contractAbi=abi.abi;_context.prev=2;_window=window,ethereum=_window.ethereum;if(!ethereum){_context.next=25;break;}_context.next=7;return ethereum.request({method:\"eth_requestAccounts\"});case 7:accounts=_context.sent;window.ethereum.on(\"chainChanged\",function(){window.location.reload();});window.ethereum.on(\"accountsChanged\",function(){window.location.reload();});provider=new ethers.providers.Web3Provider(ethereum);signer=provider.getSigner();contract=new ethers.Contract(contractAddress,contractAbi,signer);setState({provider:provider,signer:signer,contract:contract});_context.next=16;return provider.getNetwork();case 16:_yield$provider$getNe=_context.sent;chainId=_yield$provider$getNe.chainId;_context.next=20;return signer.getBalance();case 20:balance=_context.sent;balance=utils.formatUnits(balance);// console.log(\"Accounts \" + accounts + \"chainID \" + chainId + \"Balance: \" + balance)\nsetAccountDetails({accounts:accounts,chainId:chainId,balance:balance,contractAddress:contractAddress});_context.next=26;break;case 25:alert(\"Please install MetaMask\");case 26:_context.next=31;break;case 28:_context.prev=28;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 31:case\"end\":return _context.stop();}},_callee,null,[[2,28]]);}));return function connectWallet(){return _ref.apply(this,arguments);};}();connectWallet();},[]);console.log(state);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{state:state,details:accountDetails}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Banner,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/headphones\",element:/*#__PURE__*/_jsx(Headphones,{state:state})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/earphones\",element:/*#__PURE__*/_jsx(Earpods,{state:state})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/speakers\",element:/*#__PURE__*/_jsx(Speakers,{state:state})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/About\",element:/*#__PURE__*/_jsx(About,{state:state})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/orders\",element:/*#__PURE__*/_jsx(Orders,{state:state,details:accountDetails})})]})]});}export default App;","map":{"version":3,"names":["BrowserRouter","Routes","Route","Header","Banner","useState","useEffect","abi","ethers","utils","Headphones","Earpods","Speakers","Orders","About","jsx","_jsx","jsxs","_jsxs","App","_useState","provider","signer","contract","_useState2","_slicedToArray","state","setState","_useState3","accounts","chainId","balance","contAddress","_useState4","accountDetails","setAccountDetails","connectWallet","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractAddress","contractAbi","_window","ethereum","_yield$provider$getNe","wrap","_callee$","_context","prev","next","window","request","method","sent","on","location","reload","providers","Web3Provider","getSigner","Contract","getNetwork","getBalance","formatUnits","alert","t0","console","log","stop","apply","arguments","className","children","details","path","element","exact"],"sources":["C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/src/App.js"],"sourcesContent":["import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Banner from \"./components/Banner\";\nimport { useState, useEffect } from 'react';\nimport abi from \"./abi/music.json\";\nimport { ethers,utils } from \"ethers\";\nimport Headphones from \"./components/Headphones\";\nimport Earpods from \"./components/Earpods\";\nimport Speakers from \"./components/Speakers\";\nimport Orders from './components/Orders';\nimport About from \"./components/About\";\n\n\n\nfunction App() {\n  const [state, setState] = useState({\n    provider: null,\n    signer:null,\n    contract: null\n    });\n   \n   const [accountDetails, setAccountDetails] = useState({\n     accounts: null,\n     chainId: null,\n     balance: null,\n     contAddress: null\n   });\n\n   useEffect(() => {\n    const connectWallet = async () => {\n      const contractAddress = \"0x8765aA7C14AEc6A8b4eaD68e1ab1EC6c65B9166F\"; \n      const contractAbi = abi.abi;\n      try{\n        const {ethereum} = window;\n  \n        if(ethereum){\n          const accounts = await ethereum.request({\n            method:\"eth_requestAccounts\",\n        });\n        \n  \n        window.ethereum.on(\"chainChanged\", ()=>{\n          window.location.reload();\n        })\n  \n        window.ethereum.on(\"accountsChanged\",()=>{\n          window.location.reload();\n        })\n  \n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n       \n        \n        const contract = new ethers.Contract(\n          contractAddress,\n          contractAbi,\n          signer\n        );\n        setState({provider,signer,contract})\n        \n        const { chainId } = await provider.getNetwork();\n        var balance = await signer.getBalance()\n        balance = utils.formatUnits(balance)\n        // console.log(\"Accounts \" + accounts + \"chainID \" + chainId + \"Balance: \" + balance)\n        setAccountDetails({accounts, chainId, balance, contractAddress});\n        \n        }\n        else{\n          alert(\"Please install MetaMask\");\n        }\n      } catch (error){\n        console.log(error);\n      }\n  };\n  connectWallet();\n  },[]);\n  console.log(state);\n\n  return (\n    <div className=\"App\">\n      <Header state={state} details={accountDetails}/>\n    <Routes>\n      <Route path=\"/\" element={<Banner/>}/>\n      <Route exact path='/headphones' element={<Headphones state={state} />}/>\n      <Route exact path='/earphones' element={<Earpods state={state} />}/>\n      <Route exact path='/speakers' element={<Speakers state={state} />}/>\n      <Route exact path='/About' element={<About state={state} />}/>\n      <Route exact path='/orders' element={<Orders state={state} details={accountDetails}/>}/>\n    </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}