{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from'react';import{Container,Col,Row,Card,Table,Button,ListGroup}from'react-bootstrap';import Banner from'./Banner';import{ethers}from'ethers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Orders(_ref){var state=_ref.state,details=_ref.details;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var contract=state.contract;var address=details.accounts;useEffect(function(){var orderList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var orders;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return contract.showOrders();case 2:orders=_context.sent;setOrders(orders);case 4:case\"end\":return _context.stop();}},_callee);}));return function orderList(){return _ref2.apply(this,arguments);};}();contract&&orderList();},[contract]);// useEffect(() =>{\n// const withDraw = async () =>{\n//     const see = await contract.withdrawMoney(ethers.utils.parseEther(\"0.001\"));        \n//     console.log(see);\n// };\n// contract && withDraw();\n// },[contract]);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Banner,{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsx(Col,{md:\"auto\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order History\"})}),/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsx(Row,{style:{padding:\"20px\"},children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Order History\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Order Placed At\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"})]})}),orders.map(function(order){return String(order.from).toLowerCase()==address?/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.name}),/*#__PURE__*/_jsx(\"td\",{children:order.category}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.timestamp*1000).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{children:[order.price,\" ETH\"]})]})},order.timestamp):/*#__PURE__*/_jsx(_Fragment,{});})]})})]})})]})})]});}export default Orders;","map":{"version":3,"names":["React","useState","useEffect","Container","Col","Row","Card","Table","Button","ListGroup","Banner","ethers","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Orders","_ref","state","details","_useState","_useState2","_slicedToArray","orders","setOrders","contract","address","accounts","orderList","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","showOrders","sent","stop","apply","arguments","children","md","style","padding","Header","Body","striped","bordered","hover","map","order","String","from","toLowerCase","name","category","Date","timestamp","toLocaleString","price"],"sources":["C:/Users/Rishabh/Downloads/Music Store/Music Store/frontend/src/components/Orders.js"],"sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { Container, Col, Row, Card, Table, Button, ListGroup } from 'react-bootstrap';\nimport Banner from './Banner';\nimport { ethers } from 'ethers';\n\n\nfunction Orders({state, details}) {\n    const [orders, setOrders] = useState([]);\n    const { contract } = state;\n    const address = details.accounts;\n    \n\n    useEffect(() =>{\n        const orderList = async () =>{\n            const orders = await contract.showOrders();\n            setOrders(orders);\n            \n        };\n        contract && orderList();\n    },[contract]);\n\n\n   \n\n\n\n\n// useEffect(() =>{\n// const withDraw = async () =>{\n//     const see = await contract.withdrawMoney(ethers.utils.parseEther(\"0.001\"));        \n//     console.log(see);\n    \n// };\n// contract && withDraw();\n// },[contract]);\n\n\n    return ( \n        <>\n        <Banner />\n        <Container>\n            <Row>\n                <Col></Col>\n                <Col md=\"auto\">\n                <h2>Order History</h2>\n                </Col>\n                <Col></Col>\n\n                 <Row style={{padding:\"20px\"}}>\n       <Card>\n      <Card.Header>Order History</Card.Header>\n      <Card.Body>\n      <Table striped bordered hover>\n      <thead>\n        <tr>\n          \n          <th> Product Name</th>\n          <th>Category</th>\n          <th>Order Placed At</th>\n          <th>Price</th>\n        </tr>\n      </thead>\n      {orders.map((order) => {\n        return(\n          String(order.from).toLowerCase() == address ? \n            <tbody key={order.timestamp}>\n            <tr>\n              <td>{order.name}</td>\n              <td>{order.category}</td>\n              <td>{new Date(order.timestamp * 1000).toLocaleString()}</td>\n              <td>{order.price} ETH</td>\n            </tr>\n          </tbody>  \n          :\n          <></>\n        );\n      })}\n     \n    </Table>\n      </Card.Body>\n    </Card>\n       </Row> \n                \n            </Row>\n        </Container>\n        </>\n     );\n}\n\nexport default Orders;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}